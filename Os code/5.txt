#include <stdio.h>
 int main() {
   int n, m;  
  int alloc[10][10], max[10][10], avail[10];
   int need[10][10], finish[10] = {0}, safeSeq[10];
   int i, j, k, count = 0;
   printf("Enter number of processes: ");
   scanf("%d", &n);
   printf("Enter number of resources: ");
   scanf("%d", &m);
   printf("Enter Allocation Matrix:\n");
   for (i = 0; i < n; i++)
       for (j = 0; j < m; j++)
           scanf("%d", &alloc[i][j]);
   printf("Enter Maximum Matrix:\n");
   for (i = 0; i < n; i++)
       for (j = 0; j < m; j++)
           scanf("%d", &max[i][j]);
   printf("Enter Available Resources:\n");
   for (j = 0; j < m; j++)
       scanf("%d", &avail[j]);
      for (i = 0; i < n; i++)
       for (j = 0; j < m; j++)
           need[i][j] = max[i][j] - alloc[i][j];
      while (count < n) {
       int found = 0;
       for (i = 0; i < n; i++) {
           if (finish[i] == 0) {
               int canAllocate = 1;
               for (j = 0; j < m; j++) {
                   if (need[i][j] > avail[j]) {
                       canAllocate = 0;
                       break;
                   }
               }
               if (canAllocate) {
                   for (k = 0; k < m; k++)
                       avail[k] += alloc[i][k];
                   safeSeq[count++] = i;
                   finish[i] = 1;
                   found = 1;
               }
           }
       }
       if (!found) {
           printf("\nSystem is in Deadlock (No Safe Sequence)\n");
           return 0;
       }
   }
   printf("\nSystem is in Safe State.\nSafe Sequence: ");
   for (i = 0; i < n; i++)
       printf("P%d ", safeSeq[i]);
   return 0;}


Enter number of processes: 5
Enter number of resources: 3
Enter Allocation Matrix:
0 1 0
2 0 0
3 0 2
2 1 1
0 0 2
Enter Maximum Matrix:
7 5 3
3 2 2
9 0 2
2 2 2
4 3 3
Enter Available Resources:
3 3 2